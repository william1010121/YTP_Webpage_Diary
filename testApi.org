* Api Test
:PROPERTIES:
:header-args: :host 127.0.0.1:8000 :pretty
:END:

** functions

*** list(user)
#+NAME: list
#+begin_src http :var user="guosw"
POST /api/list
Content-Type: application/json

{
  "user" : "${user}"
}
#+end_src

*** ping()
#+NAME: ping
#+begin_src http
  GET /
#+end_src

*** getProjectList(user)
#+NAME: getProjectList
#+begin_src http :var user="guosw"
  POST /api/get_project_list
  Content-Type: application/json

  {
  "user": "${user}"
  }
#+end_src

*** getProjectStructure(user,projectId)


#+NAME: getProjectStructure
#+begin_src http :var user="guosw" :var projectId="test"
  POST /api/get_structure
  Content-Type: application/json

  {
  "user": "${user}",
  "projectId": "${projectId}"
  }
#+end_src

*** getNodeConfig(user,projectId)
#+NAME: getNodeConfig
#+begin_src http :var user="guosw" :var projectId="test"
  POST /api/get_nodeconfig
  Content-Type: application/json

  {
  "user": "${user}",
  "projectId": "${projectId}"
  }
#+end_src

*** createNode(user,projectId)
#+NAME: createNode
#+begin_src http :var user="guosw" :var projectId="test" :var nodeTitle="New Node"
  POST /api/uploads/create_node
  Content-Type: application/json

  {
  "user": "${user}",
  "projectId": "${projectId}",
  "nodeTitle": "${nodeTitle}"
  }
#+end_src
*** createEdge(user,projectId,StartNode,EndNode)
#+NAME: createEdge
#+begin_src http :var user="guosw" :var projectId="test" :var StartNode="1" :var EndNode="2"
  POST /api/uploads/create_edge
  Content-Type: application/json

  {
  "user": "${user}",
  "projectId": "${projectId}",
  "StartNode": "${StartNode}",
  "EndNode": "${EndNode}"
  }
#+end_src
*** uploadUrl(user,projectId,nodeId,urltype,url,title,content)
#+NAME: uploadUrl
#+begin_src http :var user="guosw" :var projectId="1" :var nodeId="id" :var urlType="type" :var url="url" :var title="title" :var content="content"
  POST /api/uploads/url
  Content-Type: application/json

  {
  "user": "${user}",
  "projectId": "${projectId}",
  "nodeId": "${nodeId}",
  "urlType": "${urlType}",
  "url": "${url}",
  "title": "${title}",
  "content": "${content}"
  }
#+end_src


*** getNode(user,projectId,nodeId)
#+NAME: getNode
#+begin_src http :var user="guosw" :var projectId="test" :var nodeId="id"
  POST /api/get_node
  Content-Type: application/json

  {
  "user": "${user}",
  "projectId": "${projectId}",
  "nodeId": "${nodeId}"
  }
#+end_src

*** importJson(user,projectId,jsonData)
#+NAME: importJson
#+begin_src http :var user="guosw" :var projectId="test" :var jsonData="id"
  POST /api/import/json
  Content-Type: application/json

  {
  "user": "${user}",
  "projectId": "${projectId}",
  "json": ${jsonData}
  }
#+end_src

*** importMarkdown(user,projectId,markdown)
#+NAME: importMarkdown
#+begin_src http :var user="guosw" :var projectId="test" :var markdown="id"
  POST /api/import/markdown
  Content-Type: application/json

  {
  "user": "${user}",
  "projectId": "${projectId}",
  "markdown" : "${markdown}"
  }
#+end_src


** list
*** list  diary
#+CALL: ping()

*** list project
#+CALL: getProjectList(user="guosw")

#+RESULTS:
: {
:   "project-length": 3,
:   "projects": [
:     "test-graph",
:     "test",
:     "test-upload-url"
:   ]
: }

*** get project structure
#+CALL: getProjectStructure(user="guosw",projectId="test")


*** get node config
#+CALL: getNodeConfig(user="guosw",projectId="test")

#+RESULTS:
: {
:   "nodeconfig": {
:     "K": 200
:   }
: }

*** Test New Node
#+CALL: createNode(user="guosw",projectId="test-graph",nodeTitle="Test")

#+RESULTS:
: {
:   "message": "Node created with ID MTRjG",
:   "ID": "MTRjG"
: }

#+CALL: getProjectStructure(user="guosw",projectId="test-graph")

#+RESULTS:
#+begin_example
{
  "structure": {
    "ywSot": [],
    "nodeTitle": {
      "ywSot": "Root",
      "MTRjG": "Test"
    },
    "MTRjG": []
  }
}
#+end_example

*** Test Create Edge
#+CALL: createEdge(user="guosw",projectId="test-graph",StartNode="TxXjF",EndNode="ICgHx")

*** Test upload url
#+CALL: getProjectStructure(user="guosw",projectId="test-upload-url")

#+RESULTS:
: {
:   "structure": {
:     "UGHdi": [],
:     "nodeTitle": {
:       "UGHdi": "Root"
:     }
:   }
: }

#+CALL: uploadUrl(user="guosw",projectId="test-upload-url",nodeId="vPyyI",urlType="important",title="Test upload url",content="This is the Content")
*** Ttest Get Node
#+CALL: getProjectStructure(user="guosw",projectId="test-upload-url")

#+RESULTS:
: {
:   "structure": {
:     "UwzGz": [],
:     "nodeTitle": {
:       "UwzGz": "Root"
:     }
:   }
: }

#+CALL: getNode(user="guosw",projectId="test-upload-url",nodeId="UwzGz")

#+RESULTS:
#+begin_example
{
  "node": {
    "ID": "UwzGz",
    "title": "Root",
    "important_Data": [],
    "relate_Data": [],
    "other_Data": [],
    "Summary": ""
  }
}
#+end_example

*** Test import Json
#+NAME: JsonData
#+begin_example json
 {
  "Graph": {
  	"1":[],
  	"2":["3","8"],
  	"3":["4","5","6","7"],
  	"4":[],
  	"5":[],
  	"6":[],
  	"7":[],
  	"8":[],
  	"9":["10","11","12","13","14"],
  	"10":[],
  	"11":[],
  	"12":[],
  	"13":[],
  	"14":[]
  },
  "Node": {
  "1": {
  "Title": "localStorage",
  "Content": ""
  },
  "2": {
  "Title": "JavaScript localStorage ç°¡ä»‹",
  "Content": "localStorage æ˜¯ Web Storage API çš„ä¸€éƒ¨åˆ†ï¼Œå…è¨±åœ¨ä½¿ç”¨è€…çš„ç€è¦½å™¨ä¸­å„²å­˜è³‡æ–™ã€‚èˆ‡ cookies ä¸åŒï¼ŒlocalStorage æä¾›æ›´å¤§çš„å„²å­˜ç©ºé–“ï¼Œä¸”è³‡æ–™ä¸æœƒéš¨æ¯å€‹ HTTP è«‹æ±‚å‚³é€ã€‚\n"
  },
  "3": {
  "Title": "åŸºæœ¬ä½¿ç”¨æ–¹æ³•",
  "Content": ""
  },
  "4": {
  "Title": "å„²å­˜è³‡æ–™",
  "Content": "```localStorage.setItem('key', 'value')```\n"
  },
  "5": {
  "Title": "å–å¾—è³‡æ–™",
  "Content": "```const value = localStorage.getItem('key')```\n"
  },
  "6": {
  "Title": "ç§»é™¤è³‡æ–™",
  "Content": "```localStorage.removeItem('key')```\n"
  },
  "7": {
  "Title": "æ¸…é™¤æ‰€æœ‰è³‡æ–™",
  "Content": "```localStorage.clear()```\n"
  },
  "8": {
  "Title": "ç¯„ä¾‹",
  "Content": "```javascript\n// å„²å­˜ä½¿ç”¨è€…åç¨±\nlocalStorage.setItem('username', 'JohnDoe');\n\n// å–å¾—ä½¿ç”¨è€…åç¨±\nconst username = localStorage.getItem('username');\nconsole.log(username); // è¼¸å‡º: JohnDoe\n\n// ç§»é™¤ä½¿ç”¨è€…åç¨±\nlocalStorage.removeItem('username');\n\n// æ¸…é™¤æ‰€æœ‰ localStorage è³‡æ–™\nlocalStorage.clear();\n```\n\n---"
  },
  "9": {
  "Title": "ç¤ºç¯„ä¾‹å­",
  "Content": ""
  },
  "10": {
  "Title": "Save",
  "Content": "```javascript=\nfunction saveData(name, information, Emoji, currentItemId) {\n// save the name and infomation\n// and the itemId\n// and update the newest itemId\nlocalStorage.setItem('globalItemId', itemId);\n\nconst data = {\nname: name,\ninformation: information,\nEmoji: Emoji,\nitemId: currentItemId,\n};\n\nlocalStorage.setItem(`data-${currentItemId}`, JSON.stringify(data));\n};\n```\n"
  },
  "11": {
  "Title": "Set when On load",
  "Content": "```javascript=\nwindow.onload = function() {\n// load the data from local storage\n// and display it on the page\nconst globalItemId = localStorage.getItem('globalItemId');\nitemId = globalItemId ? parseInt(globalItemId)+1 : 0;\nfor (let i = 0; i < itemId; i++) {\nconst data = localStorage.getItem(`data-${i}`);\nif (data) {\nconst { name, information, Emoji, itemId } = JSON.parse(data);\nLine.insertAdjacentHTML('beforeend', `\n<div id='div-${itemId}'>\n(ID is${itemId}) <span id='btn-${itemId}-Emoji'> ${Emoji}</span><span id='btn-${itemId}-name'>${name}</span>:<br>\n&nbsp;&nbsp;&nbsp;<span id='btn-${itemId}-info'>${information}</span><br><br>\n<button id='btn-${itemId}-delete'>âŒ</button>\n<button id='btn-${itemId}-modify'>ğŸ”„</button>\n</div>\n`);\naddRemoveButtonEvent(itemId);\naddModifyButtonEvent(itemId);\n}\n}\n};\n```\n"
  },
  "12": {
  "Title": "List",
  "Content": "```javascript=\nfunction listLocalStorageData() {\n// Iterate over all keys in localStorage\nfor (let i = 0; i < localStorage.length; i++) {\n// Get the key at the current index\nconst key = localStorage.key(i);\n// Retrieve the value associated with the key\nconst value = localStorage.getItem(key);\n// Log the key-value pair to the console\nconsole.log(`${key}: ${value}`);\n}\n}\n\n// Call the function to list all data\nlistLocalStorageData();\n```\n\n\n"
  },
  "13": {
  "Title": "ä½œæ¥­",
  "Content": "``````\n\n\n"
  },
  "14": {
  "Title": "ç™½æ¿",
  "Content": "https://www.tldraw.com/r/5rRLPMxAKDyHve77uQKMp?d=v-1382.653.4600.2840.6OGm41dEfwHX5iZLAwj_Z\n\n\n\n\n\n\n\n<!-- åšä¸€å€‹å±¬æ–¼è‡ªå·±çš„ä»‹ç´¹é é¢ -->"
  }
  }
  }
#+end_example

#+begin_src python :var json=JsonData
  print((json))
#+end_src

#+RESULTS:
: None

#+CALL: importJson(user="guosw",projectId="test-import-json",jsonData=JsonData)

*** Test import markdown
#+NAME: MarkdownData
#+begin_example md
# æƒ³æ³•
æœ‰ä¸€å€‹åœ°æ–¹æ˜¯å¯ä»¥è®“ä½ è‡ªå‹•ä¸Šå‚³æ¯å¤©çš„ç€è¦½è¨˜éŒ„çš„ï¼Œå¯èƒ½è·ŸåŠ ä¸Šä¸€å€‹è·Ÿæ”¶è—ä¸€æ¨£çš„æŒ‰éˆ•ï¼Œç„¶å¾ŒæŒ‰äº†ä¹‹å¾Œå°±ç•¶ä»–è®€é€²å»äº†ï¼Œç„¶å¾Œå¯èƒ½æ¯å¤©æ™šä¸Šçš„æ™‚å€™å°±é€éAIè‡ªå‹•æ•´ç†å…§å®¹ï¼Œç„¶å¾Œæ¯å¤©ä¸€èµ·åºŠå°±æœƒæœ‰æ˜¨å¤©å­¸çš„æ±æ±


## å¯¦ä½œ

1. æœ‰ä¸€å€‹å¾Œç«¯serveræä¾›`api`
    - `/api/{user}/upload/{type}`
        - ç›®å‰åªæ‰“ç®—å…ˆåš`type: url`
    - `/api/{user}/index/{date}`
        - ç²å–æŸä¸€å¤©çš„`list`
2. ä¸€å€‹ç¶²é å¯ä»¥çœ‹åˆ°
    - æ¯å¤©çš„ç¶²å€åˆ—è¡¨
    - æ¯å¤©çµæŸä¹‹å¾Œçš„
        - æ¯å€‹ç¶²å€çš„å°ç¸½çµ
        - ä¸€æ•´å¤©ä¸‹ä¾†çš„ç¸½çµ
3. ä¸€å€‹`chrome plugin`
    - è² è²¬è‡ªå‹•çš„åŠ å…¥ç¶²å€
    - é€éåˆå¾Œç«¯çš„`api`äº’å‹•ä¾†å¹«`user`åŠ å…¥è³‡æ–™

## æœ‰é—œ`chrome plugin`

å› ç‚ºæˆ‘ç™¼ç¾æˆ‘åœ¨æ‰¾è³‡æ–™çš„æ™‚å€™ï¼Œæœ€å¾ŒçœŸçš„æœ‰åƒ¹å€¼çš„éƒ½æ˜¯åœ¨æŸäº›ç‰¹å®šçš„ç¶²ç«™ä¸Šé¢
ex:
1. `stackoverflow`
2. `reddit`
3. `hackmd`

æ‰€ä»¥`google plugin`å¯ä»¥æœ‰å…©ç¨®æ–¹å¼
1. ä½¿ç”¨è€…å‘¼å«`google plugin`ä¸¦ä¸”æ‰‹å‹•çš„å°‡ç¶²å€åŠ å…¥
2. å¯ä»¥å†é€²å…¥åˆ°æŸä¸€å€‹ç¶²ç«™çš„æ™‚å€™å°±è®“`google plugin`è‡ªå‹•å°‡é€™å€‹ç¶²é åŠ å…¥ï¼ˆæˆ–è‘—å¯èƒ½é€²å…¥åˆ°é€™å€‹ç¶²é çš„æ™‚å€™å°±å½ˆå‡ºç¢ºèªçª—(æŒ‰yå°±å„²å­˜nå°±ä¸å„²å­˜)



# QA


1. æ¯æ¬¡ç™¼æƒ³å‰å¯ä»¥å…ˆæƒ³æƒ³ä¸€äº›å•é¡Œç›®æ¨™ä½¿ç”¨è€…? å¸‚é¢ä¸Šæœ‰åšéé¡ä¼¼çš„? æœ‰çš„è©±ä½ çš„å•†å“å„ªå‹¢æœƒåœ¨å“ªè£¡? æ²’æœ‰çš„è©±ï¼ŒåŠŸèƒ½å¯è¡Œæ€§åˆ†æ...ç­‰ç­‰ã€‚

`Ans:`
`ç›®æ¨™ä½¿ç”¨è€…`: æ¯å¤©æœƒé€éç€è¦½å™¨æœå°‹å¤§é‡è³‡è¨Šçš„äºº(ex:ç¨‹åºå“¡)
`é¡ä¼¼çš„`: 
 - ç›®å‰æ²’æœ‰æ‰¾åˆ°ï¼Œæœ‰å–®å€‹ç¶²é çš„`AI summarize`ï¼Œä½†æ²’æœ‰æ‰¾åˆ°æœ‰ä¸Šè¿°åŠŸèƒ½çš„
 - å¦‚æœæ˜¯`save to notion`çš„è©±ï¼Œæˆ‘å€‘çš„å„ªå‹¢å¯èƒ½åœ¨æ–¼
     1. å¯ä»¥è‡ªå‹•çš„å°‡ç‰¹å®šçš„ç¶²ç¶²ç«™è‡ªå‹•åŠ å…¥
     2. å¦‚æœæ˜¯é€éæä¾›`api`çš„æ–¹å¼çš„è©±ï¼Œé‚£éº¼åªè¦æœ‰äººå¯«äº†ç›¸é—œçš„æ’ä»¶ï¼Œå°±å¯ä»¥ç›´æ¥èª¿ç”¨


---


2. è½èµ·ä¾†é¡ä¼¼æ–¼ç­†è¨˜æ•´ç†ä¸¦è‡ªå‹•åˆ†é¡ï¼Œä¸¦ç”¢å‡ºå¯ä»¥é‡è¤‡è¤‡ç¿’å›é¡§çš„ç´€éŒ„æª”æ¡ˆï¼Œæˆ‘ç›®å‰æƒ³çš„å•é¡Œæ˜¯ï¼Œç€è¦½ç´€éŒ„æ‡‰è©²åªä¾·é™ç¶²é çš„è©±ï¼Œæƒ³å•ç·šä¸Šçš„pdfã€å½±åƒã€å½±åƒæœƒæœ‰åŠ å…¥æ•´ç†çš„éœ€æ±‚ç¯„åœ? æ¯æ—¥çš„ç€è¦½ç´€éŒ„ä¸¦ä¸ä¸€å®šæ˜¯ä½¿ç”¨è€…æƒ³é€²è¡Œåˆ†æçš„ï¼Œé‚£æœƒå¦‚ä½•é¸æ“‡(æ˜¯å¦èƒ½è‡ªå‹•åŒ–?)?  AIæ•´ç†çµæœè¦æ€æ¨£ç¬¦åˆä½¿ç”¨è€…æ‰€æƒ³è¦çš„æˆ–æ˜¯å¯ä»¥ä¾›å®¢è£½? ç€è¦½ç´€éŒ„çš„éš±ç§å•é¡Œ...é€™æ‡‰è©²æ˜¯æ¯å€‹ç”¨å¤§èªè¨€æ¨¡å‹æœƒè¢«å•åˆ°çš„...

`Ans`:
1. å¦‚æœ`æŠ“url`çš„åŠŸèƒ½å¯¦ç¾çš„è©±ï¼Œç·šä¸Šçš„`pdf`, `å½±åƒ`æ‡‰è©²å°±åªæ˜¯åœ¨å¾Œç«¯å¢åŠ å°æ‡‰çš„`api`
2. é¸æ“‡çš„éƒ¨åˆ†å°±æ˜¯æœƒæœ‰
    - é‡åˆ°ç‰¹å®šç¶²ç«™çš„æ™‚å€™è‡ªå‹•åŠ å…¥
    - ä½¿ç”¨è€…å¯ä»¥é€éå¿«æ·éµ(ex: ctrl-alt-s) å¿«é€ŸåŠ å…¥
3. `AI` çš„æ•´ç†çµæœå®¢è£½åŒ–
    - å¯èƒ½å¯ä»¥è®“ä½¿ç”¨è€…è‡ªå®šç¾©prompt
    - å¯èƒ½å¯ä»¥æ··åˆ`æˆ°åœ°è¨˜è€…èˆ‡é–ƒå…‰å½ˆ`ä»–å€‘é€™çµ„çš„æª”æ¡ˆåˆ†é¡ï¼Œåœ¨æ¥æ”¶åˆ°ç¶²å€ä¹‹å¾Œå¯ä»¥å…ˆè‡ªå‹•åˆ†é¡ï¼Œæˆ–è‘—è®“ä½¿ç”¨è€…è‚²å…ˆå»ºç«‹å¥½ä»–å€‘æƒ³è¦çš„åˆ†é¡(ex: ç¶“æ¿Ÿå­¸, ç¨‹å¼, ....)ï¼Œç„¶å¾Œ`AI`

---


3. åˆ†äº«ä¹‹å‰çš„ç¶“é©—ï¼Œä½¿ç”¨Save to Notionå¤–æ›ï¼Œå¯æ¥å°‡ç¶²é è³‡æ–™é¸å–å¾Œå„²å­˜æ–¼notionï¼Œä¸¦åŠ ä¸ŠchatGPTåˆ†æåšè³‡æ–™è™•ç†ï¼Œä½†é€™é‚Šå°±æ˜¯ä½¿ç”¨è€…è‡ªä¸»åœˆé¸å…§å®¹ä¸¦éè‡ªå‹•åŒ–æ•´ç†ï¼Œä¾›åƒè€ƒã€‚

æœ€å¾Œ...å¦‚æœæ˜¯ç°¡å–®çš„æ‘˜è¦ï¼Œæ–‡ç« æ•´ç†æ¨¡å‹æ‡‰è©²æœ‰æ©Ÿæœƒå¯ä»¥åœ°ç«¯åŸ·è¡Œï¼Œæ•ˆèƒ½ä¹Ÿé«˜ï¼Œå°±èƒ½é¿é–‹ä¸Šå‚³åˆ°serverçš„éš±ç§å•é¡Œï¼Œæˆæœ¬å°±æ˜¯ç¡¬é«”è¨­å‚™é‚„æœ‰ä½ å€‘è©•ä¼°ä»–ç”¢å‡ºå…§å®¹çš„çµæœã€‚



---

# ç›®å‰æ‰¾è§£æ±ºè³‡æ–™çš„æ™‚å€™æœƒé‡åˆ°çš„å•é¡Œ

- æœåˆ°è§£ç­”ä¹‹å¾Œä¸‹æ¬¡é‡åˆ°åŒæ¨£çš„å•é¡Œå°±å¿˜è¨˜äº†
    - åŒæ¨£çš„å•é¡Œå»éœ€è¦æœå°‹äº†å¾ˆå¤šæ¬¡

- æœå°‹åˆ°ä¸€åŠçš„æ™‚å€™æœƒå¿˜è¨˜è‡ªå·±åŸæœ¬çš„å•é¡Œ

- æ‡‰è©²è¦æœ‰å…©å€‹prompt
    - ç¸½çµ
    - ç”Ÿæˆæ•™å­¸
---

# ä¸€äº›ç™¼æƒ³

- å°æ–¼æŸå€‹é ˜åŸŸçš„è³‡è¨Š
    - å¯èƒ½å¯ä»¥å°‡ç›®å‰çš„é€£çµè·Ÿæª”æ¡ˆéƒ½æœé›†èµ·ä¾†ï¼Œäº¤çµ¦AIä¾†å…ˆç¸½çµå‡ºçµæœ
        1. ç›´æ¥ä½¿ç”¨Google çš„ Notebook LLM

#+end_example


#+CALL: importMarkdown(user="guosw", projectId="test-import-markdown",markdown=MarkdownData)

#+RESULTS:
